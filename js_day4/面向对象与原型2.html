<!DOCTYPE html>
<html lang="ch-ZN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>面向对象与原型</title>
</head>

<body>
    <script>
        // function Box(){

        // }
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // var box2 = new Box();
        // alert(box1.run ==  box2.run);// true
        // 如果是实例方法，不同的实例化，他们的方法地址是不一样的，是唯一的
        // 如果是原型方法，那么 他们的地址是共享的，大家都一样

        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // var box2 = new Box();
        //alert(box1.prototype);//undefined 这个属性是个对象 访问不到
        //alert(box1.__proto__);//[object Object]  //这个属性是一个指针指向prototype原型对象
        //alert(box1.constructor);//function Box(){}  构造属性 可以获取 构造函数本身
        // 作用是被原型指针定位，然后得到构造函数本身
        // 其实就是实例对应原型对象作用 相互连接


        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // var box2 = new Box();
        // // 判断一个对象实例是不是指向了原型对象，基本上只要实例化了，它就自动指向了
        // alert(Box.prototype);
        // alert(Box.prototype.isPrototypeOf(box1))//true;



        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // box1.name = "jack";
        // alert(box1.name);//jack
        // delete box1.name;//删除实例属性
        // alert(box1.name);//Lee  恢复原型属性
        // var box2 = new Box();
        // alert(box2.name);//Lee 还是原型中的属性
        // 实例属性不会共享




        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // alert(box1.hasOwnProperty('name'));//false 
        // box1.name = "zhang";
        // alert(box1.hasOwnProperty('name'));//true
        // // hasOwnProperty 判断实例中是否存在name 属性




        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // alert('name' in box1);//
        // //不管实例属性或者原型属性 是否存在，只要有返回true 两边都没有返回false



        // function isProperty(obj,property){
        //     return !obj.hasOwnProperty(property)&&(property in obj);
        // }  // 判断原型中是否 存在该属性
        // function Box(){}
        // Box.prototype.name = 'Lee';
        // Box.prototype.age =  100;
        // Box.prototype.run = function (){
        //     return this.name+this.age+"运行中...";
        // }
        // var box1 =  new Box();
        // alert(isProperty(box1,"name"));//true



        // String.prototype.addstring = function (){
        //     return this + "被添加了";
        // }
        // alert("zhang".addstring());

        function Box() { };
        Box.prototype = {
            constructor: Box,
            name: "Lee",
            age: 10,
            family: ["父亲", "母亲", "妹妹"],
            run: function () {
                return this.name + this, age + this.family;
            }
        };
        var box1 = new Box();
        //box1.name = "zhang";
        //box1.family = ["父亲","母亲","妹妹","弟弟"]; 不改变
        //
        box1.family.push("弟弟");
        var box2 = new Box();
        alert(box2.name);//Lee  不变
        alert(box2.family);//["父亲","母亲","妹妹","弟弟"] Box.prototype 被改变



        // function Box(name,age){
        //     this.name = name;
        //     this.age = age;
        //     this.family = ["父亲","母亲","妹妹"];
        // }
        // Box.prototype =  {
        //     constructor:Box,
        //     run:function(){
        //         return this.name + this.age + this.family;
        //     }
        // }
        // var box1 = new Box();
        // box1.name = "Lss";
        // box1.age = "35";
        // box1.family = ['哥哥','弟弟','妹妹'];
        // var box2 = new Box();
        // alert(box2.name);//undefined
        // alert(box2.age);//undefined
        // alert(box2.family);//["父亲","母亲","妹妹"]



        // function Box(name,age){
        //     this.name = name;
        //     this.age = age;
        //     this.family = ["父亲","母亲","妹妹"];
        //     Box.prototype.run =function(){
        //             return this.name + this.age + this.family;

        //     }
        // }
        // var box1 = new Box();
        // box1.name = "Lss";
        // box1.age = "35";
        // box1.family = ['哥哥','弟弟','妹妹'];
        // alert(box1);
        // var box2 = new Box();
        // alert(box2.name);//undefined
        // alert(box2.age);//undefined
        // alert(box2.family);//["父亲","母亲","妹妹"]



        // function Box(name,age){
        //     this.name = name;
        //     this.age = age;
        //     this.family = ["父亲","母亲","妹妹"];
        //     if(typeof this.run !="function"){
        //             Box.prototype.run =function(){
        //                 return this.name + this.age + this.family;

        //         }
        //     }

        // }
        // var box1 = new Box();
        // box1.name = "Lss";
        // box1.age = "35";
        // box1.family = ['哥哥','弟弟','妹妹'];
        // alert(box1.run());//Lss35哥哥,弟弟,妹妹
        // var box2 = new Box();
        // alert(box2.name);//undefined
        // alert(box2.age);//undefined
        // alert(box2.family);//["父亲","母亲","妹妹"]
        // alert(box2.run());//NaN父亲,母亲,妹妹






       //寄生构造函数 = 工厂模式 + 构造函数 ;
    //    function Box(name,age){
    //        var obj = new Object();
    //        obj.name = name;
    //        obj.age = age;
    //        obj.run = function(){
    //          return this.name + this.age + "运行中..";
    //        }
    //        return obj;
    //    } 


       // 稳妥构造函数 
    </script>
</body>

</html>